--- original/drivers/soc/qcom/msm_performance.c	2020-05-07 11:40:16.604312739 +0200
+++ changed/drivers/soc/qcom/msm_performance.c	2019-06-03 13:39:52.000000000 +0200
@@ -260,7 +260,7 @@ static int get_max_cpus(char *buf, const
 	int i, cnt = 0;
 
 	if (!clusters_inited)
-		return cnt;
+		return -EINVAL;
 
 	for (i = 0; i < num_clusters; i++)
 		cnt += snprintf(buf + cnt, PAGE_SIZE - cnt,
