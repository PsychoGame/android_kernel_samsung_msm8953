--- original/drivers/media/platform/msm/ais/sensor/csid/msm_csid.c	2020-05-07 08:31:23.622806707 +0200
+++ changed/drivers/media/platform/msm/ais/sensor/csid/msm_csid.c	2019-06-03 13:39:50.000000000 +0200
@@ -769,8 +769,10 @@ static int32_t msm_csid_cmd(struct csid_
 			unsigned char cid = csid_params.lut_params.vc_cfg_a[i].
 									cid;
 
-			csid_dev->current_csid_params.lut_params.vc_cfg_a[cid] =
-					csid_params.lut_params.vc_cfg_a[i];
+			if (cid < MAX_CID)
+				csid_dev->current_csid_params.lut_params.
+				vc_cfg_a[cid] = csid_params.lut_params.
+				vc_cfg_a[i];
 
 			CDBG("vc_cfg_a[%d] : dt=%d, decode_fmt=%d",
 				csid_params.lut_params.vc_cfg_a[i].cid,
@@ -808,8 +810,10 @@ static int32_t msm_csid_cmd(struct csid_
 			unsigned char cid = csid_params.lut_params.vc_cfg_a[i].
 						cid;
 
-			csid_dev->current_csid_params.lut_params.vc_cfg_a[cid] =
-				csid_params.lut_params.vc_cfg_a[i];
+			if (cid < MAX_CID)
+				csid_dev->current_csid_params.lut_params.
+				vc_cfg_a[cid] = csid_params.lut_params.
+				vc_cfg_a[i];
 
 			CDBG("vc_cfg_a[%d] : dt=%d, decode_fmt=%d",
 				csid_params.lut_params.vc_cfg_a[i].cid,
