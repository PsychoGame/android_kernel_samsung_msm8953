--- original/drivers/usb/gadget/function/Makefile	2020-05-07 08:06:18.726218218 +0200
+++ changed/drivers/usb/gadget/function/Makefile	2019-06-03 13:39:52.000000000 +0200
@@ -38,8 +38,13 @@ usb_f_uac2-y			:= f_uac2.o
 obj-$(CONFIG_USB_F_UAC2)	+= usb_f_uac2.o
 usb_f_uvc-y			:= f_uvc.o uvc_queue.o uvc_v4l2.o uvc_video.o
 obj-$(CONFIG_USB_F_UVC)		+= usb_f_uvc.o
-usb_f_mtp-y                     := f_mtp.o
-obj-$(CONFIG_USB_F_MTP)         += usb_f_mtp.o
+ifeq ($(CONFIG_SEC_FACTORY),y)
+    usb_f_mtp-y			:= f_mtp.o
+    obj-$(CONFIG_USB_F_MTP)	+= usb_f_mtp.o
+else
+    usb_f_mtp_samsung-y		:= f_mtp_samsung.o
+    obj-$(CONFIG_USB_F_MTP)	+= usb_f_mtp_samsung.o
+endif
 usb_f_ptp-y                     := f_ptp.o
 obj-$(CONFIG_USB_F_PTP)         += usb_f_ptp.o
 usb_f_audio_source-y            := f_audio_source.o
