--- original/include/soc/qcom/subsystem_restart.h	2020-05-07 08:31:27.205774474 +0200
+++ changed/include/soc/qcom/subsystem_restart.h	2019-06-03 13:39:53.000000000 +0200
@@ -78,6 +78,8 @@ struct subsys_desc {
 	unsigned int wdog_bite_irq;
 	unsigned int generic_irq;
 	int force_stop_gpio;
+	int stop_reason_0_gpio;
+	int stop_reason_1_gpio;
 	int ramdump_disable_gpio;
 	int shutdown_ack_gpio;
 	int ramdump_disable;
@@ -130,6 +132,9 @@ void notify_proxy_vote(struct device *de
 void notify_proxy_unvote(struct device *device);
 void complete_err_ready(struct subsys_device *subsys);
 extern int wait_for_shutdown_ack(struct subsys_desc *desc);
+extern int subsystem_crash(const char *name);
+extern void subsys_force_stop(const char *name, bool val);
+extern void subsys_set_reset_reason(const char *name, int val);
 #else
 
 static inline int subsys_get_restart_level(struct subsys_device *dev)
@@ -185,6 +190,9 @@ static inline int wait_for_shutdown_ack(
 {
 	return -ENOSYS;
 }
+static inline subsystem_crash(const char *name) { }
+static inline void subsys_force_stop(const char *name, bool val) { }
+static inline void subsys_set_reset_reason(const char *name, int val) { }
 #endif /* CONFIG_MSM_SUBSYSTEM_RESTART */
 
 #endif
