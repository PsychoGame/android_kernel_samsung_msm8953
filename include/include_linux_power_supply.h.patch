--- original/include/linux/power_supply.h	2020-05-07 08:31:27.010776228 +0200
+++ changed/include/linux/power_supply.h	2019-06-03 13:39:53.000000000 +0200
@@ -1,9 +1,9 @@
 /*
  *  Universal power supply monitor class
  *
- *  Copyright © 2007  Anton Vorontsov <cbou@mail.ru>
- *  Copyright © 2004  Szabolcs Gyurko
- *  Copyright © 2003  Ian Molton <spyro@f2s.com>
+ *  Copyright  2007  Anton Vorontsov <cbou@mail.ru>
+ *  Copyright  2004  Szabolcs Gyurko
+ *  Copyright  2003  Ian Molton <spyro@f2s.com>
  *
  *  Modified: 2004, Oct     Szabolcs Gyurko
  *
@@ -21,7 +21,7 @@
 
 /*
  * All voltages, currents, charges, energies, time and temperatures in uV,
- * µA, µAh, µWh, seconds and tenths of degree Celsius unless otherwise
+ * ��A, ��Ah, ��Wh, seconds and tenths of degree Celsius unless otherwise
  * stated. It's driver's job to convert its raw values to units in which
  * this class operates.
  */
@@ -46,6 +46,7 @@ enum {
 	POWER_SUPPLY_CHARGE_TYPE_TRICKLE,
 	POWER_SUPPLY_CHARGE_TYPE_FAST,
 	POWER_SUPPLY_CHARGE_TYPE_TAPER,
+	POWER_SUPPLY_CHARGE_TYPE_SLOW,
 };
 
 enum {
@@ -61,6 +62,9 @@ enum {
 	POWER_SUPPLY_HEALTH_WARM,
 	POWER_SUPPLY_HEALTH_COOL,
 	POWER_SUPPLY_HEALTH_HOT,
+	POWER_SUPPLY_HEALTH_UNDERVOLTAGE,
+	POWER_SUPPLY_HEALTH_OVERHEATLIMIT,
+	POWER_SUPPLY_HEALTH_MAX,
 };
 
 enum {
@@ -100,8 +104,6 @@ enum {
 	POWER_SUPPLY_DP_DM_DPF_DMF = 8,
 	POWER_SUPPLY_DP_DM_DPR_DMR = 9,
 	POWER_SUPPLY_DP_DM_HVDCP3_SUPPORTED = 10,
-	POWER_SUPPLY_DP_DM_ICL_DOWN = 11,
-	POWER_SUPPLY_DP_DM_ICL_UP = 12,
 };
 
 enum {
@@ -129,7 +131,7 @@ enum power_supply_property {
 	POWER_SUPPLY_PROP_CYCLE_COUNT,
 	POWER_SUPPLY_PROP_VOLTAGE_MAX,
 	POWER_SUPPLY_PROP_VOLTAGE_MIN,
-	POWER_SUPPLY_PROP_VOLTAGE_MAX_DESIGN,
+	POWER_SUPPLY_PROP_VOLTAGE_MAX_DESIGN, /* 10 */
 	POWER_SUPPLY_PROP_VOLTAGE_MIN_DESIGN,
 	POWER_SUPPLY_PROP_VOLTAGE_NOW,
 	POWER_SUPPLY_PROP_VOLTAGE_AVG,
@@ -139,6 +141,8 @@ enum power_supply_property {
 	POWER_SUPPLY_PROP_CURRENT_NOW,
 	POWER_SUPPLY_PROP_CURRENT_AVG,
 	POWER_SUPPLY_PROP_CURRENT_BOOT,
+	POWER_SUPPLY_PROP_CURRENT_FULL,/* 20 */
+	POWER_SUPPLY_PROP_POWER_DESIGN,
 	POWER_SUPPLY_PROP_POWER_NOW,
 	POWER_SUPPLY_PROP_POWER_AVG,
 	POWER_SUPPLY_PROP_CHARGE_FULL_DESIGN,
@@ -147,14 +151,17 @@ enum power_supply_property {
 	POWER_SUPPLY_PROP_CHARGE_EMPTY,
 	POWER_SUPPLY_PROP_CHARGE_NOW,
 	POWER_SUPPLY_PROP_CHARGE_NOW_RAW,
-	POWER_SUPPLY_PROP_CHARGE_NOW_ERROR,
+	POWER_SUPPLY_PROP_CHARGE_NOW_ERROR,/* 30 */
 	POWER_SUPPLY_PROP_CHARGE_AVG,
 	POWER_SUPPLY_PROP_CHARGE_COUNTER,
+	POWER_SUPPLY_PROP_CHARGE_OTG_CONTROL,
+	POWER_SUPPLY_PROP_CHARGE_POWERED_OTG_CONTROL,
+	POWER_SUPPLY_PROP_CHARGE_UNO_CONTROL,
 	POWER_SUPPLY_PROP_CONSTANT_CHARGE_CURRENT,
 	POWER_SUPPLY_PROP_CONSTANT_CHARGE_CURRENT_MAX,
 	POWER_SUPPLY_PROP_CONSTANT_CHARGE_VOLTAGE,
 	POWER_SUPPLY_PROP_CONSTANT_CHARGE_VOLTAGE_MAX,
-	POWER_SUPPLY_PROP_CHARGE_CONTROL_LIMIT,
+	POWER_SUPPLY_PROP_CHARGE_CONTROL_LIMIT,/* 40 */
 	POWER_SUPPLY_PROP_CHARGE_CONTROL_LIMIT_MAX,
 	POWER_SUPPLY_PROP_INPUT_CURRENT_LIMIT,
 	POWER_SUPPLY_PROP_ENERGY_FULL_DESIGN,
@@ -164,7 +171,7 @@ enum power_supply_property {
 	POWER_SUPPLY_PROP_ENERGY_NOW,
 	POWER_SUPPLY_PROP_ENERGY_AVG,
 	POWER_SUPPLY_PROP_CAPACITY, /* in percents! */
-	POWER_SUPPLY_PROP_CAPACITY_ALERT_MIN, /* in percents! */
+	POWER_SUPPLY_PROP_CAPACITY_ALERT_MIN, /* in percents! *//* 50 */
 	POWER_SUPPLY_PROP_CAPACITY_ALERT_MAX, /* in percents! */
 	POWER_SUPPLY_PROP_CAPACITY_LEVEL,
 	POWER_SUPPLY_PROP_CAPACITY_RAW,
@@ -174,7 +181,7 @@ enum power_supply_property {
 	POWER_SUPPLY_PROP_TEMP_ALERT_MIN,
 	POWER_SUPPLY_PROP_TEMP_ALERT_MAX,
 	POWER_SUPPLY_PROP_TEMP_AMBIENT,
-	POWER_SUPPLY_PROP_TEMP_AMBIENT_ALERT_MIN,
+	POWER_SUPPLY_PROP_TEMP_AMBIENT_ALERT_MIN,/* 60 */
 	POWER_SUPPLY_PROP_TEMP_AMBIENT_ALERT_MAX,
 	POWER_SUPPLY_PROP_TIME_TO_EMPTY_NOW,
 	POWER_SUPPLY_PROP_TIME_TO_EMPTY_AVG,
@@ -185,8 +192,11 @@ enum power_supply_property {
 	POWER_SUPPLY_PROP_CHARGE_TERM_CURRENT,
 	POWER_SUPPLY_PROP_CALIBRATE,
 	/* Local extensions */
-	POWER_SUPPLY_PROP_USB_HC,
+	POWER_SUPPLY_PROP_USB_HC,/* 70 */
 	POWER_SUPPLY_PROP_USB_OTG,
+	POWER_SUPPLY_PROP_CHARGE_ENABLED,
+	POWER_SUPPLY_PROP_MULTI_CHARGER_MODE,
+	POWER_SUPPLY_PROP_READ_SLAVE_REG,
 	POWER_SUPPLY_PROP_BATTERY_CHARGING_ENABLED,
 	POWER_SUPPLY_PROP_CHARGING_ENABLED,
 	POWER_SUPPLY_PROP_STEP_CHARGING_ENABLED,
@@ -216,6 +226,7 @@ enum power_supply_property {
 	POWER_SUPPLY_PROP_BOOST_CURRENT,
 	POWER_SUPPLY_PROP_SAFETY_TIMER_ENABLE,
 	POWER_SUPPLY_PROP_CHARGE_DONE,
+	POWER_SUPPLY_PROP_ALLOW_DETECTION,
 	POWER_SUPPLY_PROP_FLASH_ACTIVE,
 	POWER_SUPPLY_PROP_FLASH_TRIGGER,
 	POWER_SUPPLY_PROP_FORCE_TLIM,
@@ -229,8 +240,6 @@ enum power_supply_property {
 	POWER_SUPPLY_PROP_CYCLE_COUNT_ID,
 	POWER_SUPPLY_PROP_SAFETY_TIMER_EXPIRED,
 	POWER_SUPPLY_PROP_RESTRICTED_CHARGING,
-	POWER_SUPPLY_PROP_CURRENT_CAPABILITY,
-	POWER_SUPPLY_PROP_TYPEC_MODE,
 	POWER_SUPPLY_PROP_ALLOW_HVDCP3,
 	POWER_SUPPLY_PROP_MAX_PULSE_ALLOWED,
 	POWER_SUPPLY_PROP_ENABLE_AICL,
@@ -240,6 +249,7 @@ enum power_supply_property {
 	POWER_SUPPLY_PROP_BATTERY_INFO,
 	POWER_SUPPLY_PROP_BATTERY_INFO_ID,
 	POWER_SUPPLY_PROP_TYPEC_CC_ORIENTATION, /* 0: N/C, 1: CC1, 2: CC2 */
+	POWER_SUPPLY_PROP_TYPEC_MODE,
 	POWER_SUPPLY_PROP_TYPEC_POWER_ROLE,
 	POWER_SUPPLY_PROP_PD_ALLOWED,
 	POWER_SUPPLY_PROP_PD_ACTIVE,
@@ -262,35 +272,103 @@ enum power_supply_property {
 	POWER_SUPPLY_PROP_REAL_TYPE,
 	/* Local extensions of type int64_t */
 	POWER_SUPPLY_PROP_CHARGE_COUNTER_EXT,
-	/* Properties of type `const char *' */
-	POWER_SUPPLY_PROP_MODEL_NAME,
 	POWER_SUPPLY_PROP_MANUFACTURER,
 	POWER_SUPPLY_PROP_SERIAL_NUMBER,
 	POWER_SUPPLY_PROP_BATTERY_TYPE,
+	POWER_SUPPLY_PROP_AFC_CHARGER_MODE,
+	/* Properties of type `const char *' */
+	POWER_SUPPLY_PROP_MODEL_NAME,
+	POWER_SUPPLY_PROP_USB_CONFIGURE,
+
+	POWER_SUPPLY_PROP_FILTER_CFG,
+	POWER_SUPPLY_PROP_MAX,
+	POWER_SUPPLY_EXT_PROP_MAX = POWER_SUPPLY_PROP_MAX + 256,
 };
 
+#if defined(CONFIG_BATTERY_SAMSUNG_V2)
 enum power_supply_type {
 	POWER_SUPPLY_TYPE_UNKNOWN = 0,
-	POWER_SUPPLY_TYPE_BATTERY,
-	POWER_SUPPLY_TYPE_UPS,
-	POWER_SUPPLY_TYPE_MAINS,
-	POWER_SUPPLY_TYPE_USB,		/* Standard Downstream Port */
-	POWER_SUPPLY_TYPE_USB_DCP,	/* Dedicated Charging Port */
-	POWER_SUPPLY_TYPE_USB_CDP,	/* Charging Downstream Port */
-	POWER_SUPPLY_TYPE_USB_ACA,	/* Accessory Charger Adapters */
-	POWER_SUPPLY_TYPE_USB_HVDCP,	/* High Voltage DCP */
-	POWER_SUPPLY_TYPE_USB_HVDCP_3,	/* Efficient High Voltage DCP */
-	POWER_SUPPLY_TYPE_USB_PD,	/* Power Delivery */
-	POWER_SUPPLY_TYPE_WIRELESS,	/* Accessory Charger Adapters */
+	POWER_SUPPLY_TYPE_BATTERY,		/* 1 */
+	POWER_SUPPLY_TYPE_UPS,			/* 2 */
+	POWER_SUPPLY_TYPE_MAINS,		/* 3 */
+	POWER_SUPPLY_TYPE_USB,			/* Standard Downstream Port (4) */
+	POWER_SUPPLY_TYPE_USB_DCP,		/* Dedicated Charging Port (5) */
+	POWER_SUPPLY_TYPE_USB_CDP,		/* Charging Downstream Port (6) */
+	POWER_SUPPLY_TYPE_USB_ACA,		/* Accessory Charger Adapters (7) */
+	POWER_SUPPLY_TYPE_USB_HVDCP,	/* Efficient High Voltage DCP (8) */
+	POWER_SUPPLY_TYPE_USB_HVDCP_3,	/* Efficient High Voltage DCP 3(9) */
+	POWER_SUPPLY_TYPE_USB_PD,		/* Power Delivery (10) */
+	POWER_SUPPLY_TYPE_WIRELESS,		/* Wireless (11) */
 	POWER_SUPPLY_TYPE_USB_FLOAT,	/* Floating charger */
-	POWER_SUPPLY_TYPE_BMS,		/* Battery Monitor System */
-	POWER_SUPPLY_TYPE_PARALLEL,	/* Parallel Path */
-	POWER_SUPPLY_TYPE_MAIN,		/* Main Path */
-	POWER_SUPPLY_TYPE_WIPOWER,	/* Wipower */
-	POWER_SUPPLY_TYPE_TYPEC,	/* Type-C */
-	POWER_SUPPLY_TYPE_UFP,		/* Type-C UFP */
-	POWER_SUPPLY_TYPE_DFP,		/* TYpe-C DFP */
+	POWER_SUPPLY_TYPE_BMS,			/* Battery Monitor System (12) */
+	POWER_SUPPLY_TYPE_PARALLEL,		/* Parallel (13) */
+	POWER_SUPPLY_TYPE_MAIN,			/* Main (14) */
+	POWER_SUPPLY_TYPE_WIPOWER,		/* Wipower (15) */
+	POWER_SUPPLY_TYPE_TYPEC,		/* Type-C (16) */
+	POWER_SUPPLY_TYPE_UFP,			/* Type-C UFP (17) */
+	POWER_SUPPLY_TYPE_DFP,			/* TYpe-C DFP (18) */
+	POWER_SUPPLY_TYPE_POWER_SHARING,/* power sharing cable(19) */
+	POWER_SUPPLY_TYPE_OTG,			/* OTG (20) */
+	POWER_SUPPLY_TYPE_POGO,			/* POGO (21) */
+	POWER_SUPPLY_TYPE_MAX,
+};
+#else
+enum power_supply_type {
+	POWER_SUPPLY_TYPE_UNKNOWN = 0,
+	POWER_SUPPLY_TYPE_BATTERY,			/* 1 */
+	POWER_SUPPLY_TYPE_UPS,				/* 2 */
+	POWER_SUPPLY_TYPE_MAINS,			/* 3 */
+	POWER_SUPPLY_TYPE_USB,				/* Standard Downstream Port (4) */
+	POWER_SUPPLY_TYPE_USB_DCP,			/* Dedicated Charging Port (5) */
+	POWER_SUPPLY_TYPE_USB_CDP,			/* Charging Downstream Port (6) */
+	POWER_SUPPLY_TYPE_USB_ACA,			/* Accessory Charger Adapters (7) */
+	POWER_SUPPLY_TYPE_BMS,				/* Battery Monitor System (8) */
+	POWER_SUPPLY_TYPE_MISC,				/* 9 */
+	POWER_SUPPLY_TYPE_WIRELESS,			/* WPC(10) */
+	POWER_SUPPLY_TYPE_CARDOCK,			/* 11 */
+	POWER_SUPPLY_TYPE_UARTOFF,			/* 12 */
+	POWER_SUPPLY_TYPE_OTG,				/* 13 */
+	POWER_SUPPLY_TYPE_LAN_HUB,			/* 14 */
+	POWER_SUPPLY_TYPE_MHL_500,			/* 15 */
+	POWER_SUPPLY_TYPE_MHL_900,			/* 16 */
+	POWER_SUPPLY_TYPE_MHL_1500,			/* 17 */
+	POWER_SUPPLY_TYPE_MHL_USB,			/* 18 */
+	POWER_SUPPLY_TYPE_SMART_OTG,			/* 19 */
+	POWER_SUPPLY_TYPE_SMART_NOTG,			/* 20 */
+	POWER_SUPPLY_TYPE_POWER_SHARING,		/* power sharing cable(21) */
+	POWER_SUPPLY_TYPE_HV_MAINS,			/* 22 */
+	POWER_SUPPLY_TYPE_HV_PREPARE_MAINS, 		/* 23 */
+	POWER_SUPPLY_TYPE_HV_ERR,			/* 24 */
+	POWER_SUPPLY_TYPE_MHL_USB_100,			/* 25 */
+	POWER_SUPPLY_TYPE_MHL_2000, 			/* 26 */
+	POWER_SUPPLY_TYPE_HV_UNKNOWN,			/* 27 */
+	POWER_SUPPLY_TYPE_MDOCK_TA,			/* Mdock charger(28) */
+	POWER_SUPPLY_TYPE_HMT_CONNECTED,		/* 29 */
+	POWER_SUPPLY_TYPE_HMT_CHARGE,			/* 30 */
+	POWER_SUPPLY_TYPE_USB_HVDCP,			/* 31 */
+	POWER_SUPPLY_TYPE_HV_WIRELESS,			/* fast wireless charging for WPC(32)*/
+	POWER_SUPPLY_TYPE_PMA_WIRELESS, 		/* PMA wireless charging(33) */
+	POWER_SUPPLY_TYPE_WIRELESS_PACK,		/* wireless charging pack (34) */
+	POWER_SUPPLY_TYPE_WIRELESS_PACK_TA,		/* wireless charging pack with TA (35) */
+	POWER_SUPPLY_TYPE_WIRELESS_STAND,		/* wireless charging stand pad type (36) */
+	POWER_SUPPLY_TYPE_WIRELESS_HV_STAND,	/* fast wireless charging stand pad type (37) */
+	POWER_SUPPLY_TYPE_HV_MAINS_12V,				/* 38 */
+	POWER_SUPPLY_TYPE_PDIC,             		/* 39 */
+	POWER_SUPPLY_TYPE_HV_MAINS_CHG_LIMIT,		/* 40 */
+	POWER_SUPPLY_TYPE_TIMEOUT,			/* 41 */
+	POWER_SUPPLY_TYPE_HV_QC20,			/* 42 - ILIM 1.8A - CHG 3.0A */
+	POWER_SUPPLY_TYPE_HV_QC30,			/* 43 - ILIM 3.0A - CHG 3.5A (Step Charging 4.2A -> 3.0A) */
+	POWER_SUPPLY_TYPE_USB_HVDCP_3,	/* Efficient High Voltage DCP (33) */
+	POWER_SUPPLY_TYPE_USB_PARALLEL,		/* USB Parallel Path (45) */
+	POWER_SUPPLY_TYPE_WIPOWER,		/* Wipower (46) */
+	POWER_SUPPLY_TYPE_TYPEC,	/*Type-C (47) */
+	POWER_SUPPLY_TYPE_UFP,		/* Type-C UFP (48) */
+	POWER_SUPPLY_TYPE_DFP,		/* TYpe-C DFP (49) */
+	POWER_SUPPLY_TYPE_MAX,
 };
+#endif
+
+#define POWER_SUPPLY_TYPE_HV_WIRELESS_ETX	100
 
 /* Indicates USB Type-C CC connection status */
 enum power_supply_typec_mode {
@@ -467,6 +545,8 @@ extern int power_supply_set_supply_type(
 extern int power_supply_set_hi_power_state(struct power_supply *psy, int value);
 extern int power_supply_set_low_power_state(struct power_supply *psy,
 							int value);
+extern int power_supply_set_allow_detection(struct power_supply *psy,
+							int value);
 extern int power_supply_set_dp_dm(struct power_supply *psy,
 							int value);
 extern int power_supply_is_system_supplied(void);
